!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("ngx-highlightjs"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-highlightjs/plus",["exports","@angular/core","@angular/common/http","ngx-highlightjs","rxjs","rxjs/operators"],e):e(((t=t||self)["ngx-highlightjs"]=t["ngx-highlightjs"]||{},t["ngx-highlightjs"].plus={}),t.ng.core,t.ng.common.http,t["ngx-highlightjs"],t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,o,n,i){"use strict";var s=new e.InjectionToken("GIST_OPTIONS");var p=function(){function t(t,e){this._http=t,this._options=e}return t.prototype.getCodeFromGist=function(t){var e;return this.isOAuthProvided()&&(e=(new r.HttpParams).set("client_id",this._options.clientId).set("client_secret",this._options.clientSecret)),this.fetchFile("https://api.github.com/gists/"+t,{params:e,responseType:"json"})},t.prototype.getCodeFromUrl=function(t){return this.fetchFile(t,{responseType:"text"})},t.prototype.isOAuthProvided=function(){return!!this._options&&!!this._options.clientId&&!!this._options.clientSecret},t.prototype.fetchFile=function(t,e){return function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)}(t)?this._http.get(t,e).pipe(i.publishReplay(1),i.refCount(),i.catchError((function(t){return console.error("[NgxHighlight]: Unable to fetch the URL!",t.message),n.EMPTY}))):n.EMPTY},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.HttpClient},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[s]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.HttpClient),e.ɵɵinject(s,8))},token:t,providedIn:"root"}),t}();var c=function(){function t(t){this._loader=t,this.gistLoad=new e.EventEmitter}return Object.defineProperty(t.prototype,"gist",{set:function(t){var e=this;t&&this._loader.getCodeFromGist(t).subscribe((function(t){return e.gistLoad.emit(t)}))},enumerable:!0,configurable:!0}),t.decorators=[{type:e.Directive,args:[{selector:"[gist]"}]}],t.ctorParameters=function(){return[{type:p}]},t.propDecorators={gist:[{type:e.Input}],gistLoad:[{type:e.Output}]},t}();var u=function(){function t(){}return t.prototype.transform=function(t,e){return t&&t.files&&t.files[e]?t.files[e].content:null},t.decorators=[{type:e.Pipe,args:[{name:"gistFile"}]}],t}(),a=function(){function t(t){this._loader=t}return t.prototype.transform=function(t){return this._loader.getCodeFromUrl(t)},t.decorators=[{type:e.Pipe,args:[{name:"codeFromUrl"}]}],t.ctorParameters=function(){return[{type:p}]},t}();var h=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.HighlightModule,r.HttpClientModule],declarations:[c,u,a],exports:[o.HighlightModule,c,u,a]}]}],t}();t.GIST_OPTIONS=s,t.GistDirective=c,t.GistFilePipe=u,t.HighlightPlusModule=h,t.ɵa=p,t.ɵb=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-highlightjs-plus.umd.min.js.map